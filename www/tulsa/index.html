<!DOCTYPE html> 
<html> 
    <head>
    <title>Elite GP</title>
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a2/jquery.mobile-1.0a2.min.css" />
    <script src="http://code.jquery.com/jquery-1.4.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.0a2/jquery.mobile-1.0a2.min.js"></script>
    <script src="/javascript/jquery.swipe.js"></script>

    <script>
        function getInmateDetails(id) {
            //jQuery.pageLoading(1);
            $.getJSON("/2.0/getInmate.php?id=" + id, function(d){
                    //console.log(d);
                    $("#inmate_detail_img").attr('src', '/mugs/' + d.personId + '.jpg');
                    $("#inmate_name").html(d.name);
                    $("#inmate_address").html(d.address);
                    $("#inmate_city").html(d.city);
                    $("#inmate_state").html(d.state);
                    $("#inmate_zip").html(d.zip);
                    $("#inmate_arrest_date").html(d.arrestDate);
                    $("#inmate_arrest_time").html(d.arrestTime);
                    $("#inmate_arrested_by").html(d.arrestBy);
                    $("#inmate_agency").html(d.agency);
                    $("#inmate_book_date").html(d.bookingDate);
                    $("#inmate_book_time").html(d.bookingTime);
                    $("#inmate_charge").html(d.charge);
                    $("#inmate_bond").html(d.bondAmt);
                    $("#inmate_birth").html(d.birthday);
                    $("#inmate_hair").html(d.hair);
                    $("#inmate_eyes").html(d.eyes);
                    $("#inmate_height").html(d.feet + "ft " + d.inches + "in");
                    $("#inmate_weight").html(d.weight + " lbs");
                    $("#inmate_race").html(" " + d.race + " ");
                    $("#inmate_gender").html(d.gender);
            });
            //jQuery.pageLoading(0);
        }

        function getInmatesByDate(thisDay) {
            $.mobile.pageLoading();
            $.getJSON("/2.0/getInmatesByDate.php?thisDay=" + thisDay, function(data){
                $("#inmateBrief li").remove();
                for (i=0; i < data.length; i++) {
                var split_name = data[i].name.split(",");
                var inmate = "<li><a onclick='getInmateDetails(" + data[i].personId + "); return;' href='#inmateDetails'>"
                        + "<img  src='/mugs/" + data[i].personId + ".jpg' />"
                        + split_name[0] + "<br />" + split_name[1] + "</a><br /><span style='color:white; font-size: 13px;'>" 
                        + data[i].bookingTime  + "</span></li>";
                    $(inmate).appendTo("#inmateBrief");
                }
                $("#inmateBrief").listview("refresh");
            });
            $.mobile.pageLoading( true );
        }
        function loadData() {
            $.getJSON("/2.0/getDates.php", function(data) {
                $("#dates li").remove();
                for (i=0; i < data.length; i++) {
                //console.log(data[i]);
                    var DatesItem = '<li><a onclick="getInmatesByDate(\''  + data[i] + '\'); return;" href="#inmateBriefs">' + data[i] + '</a></li>';
                    $(DatesItem).appendTo("#dates");
                }
                $("#dates").listview("refresh");
            });
        }
        $(document).ready(function() {
            loadData();
        });
    </script>

    <style type="text/css">
        #inmate_detail_img {
            width: 290px;
        }
        .ui-mobile a img, .ui-mobile fieldset {
            height: 85px;
            margin-top: 5px;
            margin-left: 5px;
        }
        .ui-li-has-thumb .ui-btn-inner {
            min-height: 100px;
            padding-left: 130px;
        }
        .ui-li-has-thumb .ui-btn-inner {
            min-height: 72px;
        }
        .ui-li-thumb, .ui-li-icon {
            max-width: 140px;
            max-height:140px;
        }
    </style>
    <link href="images/icons/icon.png" rel="apple-touch-icon" />
</head>
<body> 

<div data-role="page" data-theme="b">

    <div data-role="header" data-position="inline">
        <center><h2>TULSA County Inmates</h2></center>
    </div>

    <div data-role="content">
        <ul id="dates" data-role="listview" data-theme="b">
            <span class="ui-li-count ui-btn-up-c ui-btn-corner-all"></span>
        </ul>
    </div>

</div>

<div data-role="page" data-theme="b" id="inmateBriefs">

    <div data-role="header">
        <h2 id="inmate_briefs_header">TULSA County</h2>
    </div>

    <div data-role="content">
        <ul id="inmateBrief" data-role="listview" data-theme="b"></ul>
    </div>

</div>

<div data-role="page" data-theme="b" id="inmateDetails">
    <div data-role="header">
        <h2>TULSA County Inmate Details</h2>
    </div>

    <div id="inmateDetail" data-role="content" data-theme="b">
        <img id="inmate_detail_img" /><br />
        <span id="inmate_name"></span><span id="inmate_race"></span><span id="inmate_gender"></span><br />
        Resides <span id="inmate_address"></span><br />
        <span id="inmate_city"></span>, <span id="inmate_state"></span> <span id="inmate_zip"></span><br />
        Born <span id="inmate_birth"></span> <span id="inmate_hair"></span> <span id="inmate_eyes"></span><br />
        <span id="inmate_height"></span> tall <span id="inmate_weight"></span><br />
        Arrested by <span id="inmate_arrested_by"></span> with <span id="inmate_agency"></span><br />
        at <span id="inmate_arrest_time"></span> on <span id="inmate_arrest_date"></span> for <br />
        <span style="color: red;" id="inmate_charge"></span><br />
        Booked at <span id="inmate_book_time"><span> on <span id="inmate_book_date"></span><span id="inmate_bond"></span>
    </div>

</div>

</body>
</html>


